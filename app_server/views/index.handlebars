<!--// doctype html
// html
//   head
//     meta(name='viewport', content='width=device-width, initial-scale=1.0')
//     title= title
//     link(rel='stylesheet', href='/bootstrap/css/nightly.bootstrap.min.css')
//     link(rel='stylesheet', href='/stylesheets/style.css')
//   body
//    .navbar.navbar-default.navbar-fixed-top
//       .container
//         .navbar-header
//           a.navbar-brand(href='/') GHMonitoring
//           button.navbar-toggle(type='button', data-toggle='collapse', data-target='#navbar-main')
//             span.icon-bar
//             span.icon-bar
//             span.icon-bar
//         #navbar-main.navbar-collapse.collapse
//           ul.nav.navbar-nav
//             li
//               a(href='/about/') About

//     .container
//       block content

//       footer
//         .row
//           .col-xs-12
//             small &copy; Théo Rassat 2020

//     script(src='/javascripts/jquery-3.4.1.min.js')
//     script(src='/bootstrap/js/bootstrap.min.js')
//     // can be used by other templates (autres files utilisera les lignes ci-dessus) 
-->
<div class="container">
  <h1 class="title"> {{pageHeader.title}} </h1>
  <h2 class="subtitle"> {{pageHeader.strapline}}</h2>
</div>
<!--div class="hero is-primary">
  <div class="hero-body"></div>
</div-->
<hr/>

{{#if errors}}
  <div class="box container notification is-danger">
    <ul>
    {{#each errors}}
      <li> {{this.message}} </li> 
    {{/each}}
    </ul>
  </div>
{{/if}}

<div class="container">
  {{#each sensorGroupsList}}
  <div class="level"> 
    {{#each this}}
      <div class="level-item">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">
              Nom du groupe : &nbsp; <b> {{this.name}} </b>
            </p>
          </header>
          <div class="card-content">
            <div class="content">
              <!--unique id ? -->
              <p> Métriques des capteurs disponibles : </p>
              <ul>
              {{#each this.sensors}}
                {{#if this.confirmed}}
                <li>{{this.metric}}</li>
                {{else}}
                <li> Capteur non-confirmé</li>
                {{/if}}
              {{/each}}
              </ul>
            </div>
          </div>
          <div class="card-footer">
            <a href="/live/{{this.groupId}}" class="card-footer-item"> Données en temps réel </a>
            <a href="/historic/{{this.groupId}}" class="card-footer-item"> Historiques des données </a>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
  {{/each}}
</div>